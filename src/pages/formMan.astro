---
import Header from "../components/Header.astro";
---

<html>
  <Header title="Formul√°rio Masculino" />
  <body>
    <div class="content">
      <div class="container">
        <main class="fold-content-container">
          <div class="fold-content">
            <h1>Seja bem-vindo, usu√°rio!<br />Vamos come√ßar?</h1>
            <p class="lead">
              <strong>O que esperar?</strong><br>
              Voc√™ vai responder um formul√°rio sobre um assunto espec√≠fico, ajudando-nos em uma causa!
            </p>
          </div>

          <hr class="separator">

          <div>
            <form id="manForm">
              <label for="question1"><b>1- </b>Em um relacionamento, voc√™ concorda que o cuidado com a casa e os filhos deve ser dividido igualmente, independentemente da jornada de trabalho de cada um?</label>
              <div class="margin-bottom">
                <input type="radio" name="question1" value="sim">Sim
                <input type="radio" name="question1" value="nao" style="margin-left: 1rem;">N√£o
                <input type="radio" name="question1" value="talvez" style="margin-left: 1rem;">Talvez
              </div>

              <label for="question2"><b>2- </b>Qual sua rea√ß√£o mais comum ao ver um homem se recusando a realizar tarefas dom√©sticas ou de cuidado (como limpar ou cozinhar), alegando que "isso √© coisa de mulher"?</label>
              <div class="margin-bottom">
                <input type="radio" name="question2" value="sim">Sim
                <input type="radio" name="question2" value="nao" style="margin-left: 1rem;">N√£o
                <input type="radio" name="question2" value="talvez" style="margin-left: 1rem;">Talvez
              </div>

              <label for="question3"><b>3- </b>Voc√™ j√° se sentiu pressionado por outros homens (amigos, fam√≠lia) a n√£o demonstrar emo√ß√µes ou a ser "dur√£o", sob o risco de ser ridicularizado ou chamado de "fraco"?</label>
              <div class="margin-bottom">
                <input type="radio" name="question3" value="sim">Sim
                <input type="radio" name="question3" value="nao" style="margin-left: 1rem;">N√£o
                <input type="radio" name="question3" value="talvez" style="margin-left: 1rem;">Talvez
              </div>

              <label for="question4"><b>4- </b>Em uma briga de casal, voc√™ acredita que o homem tem o dever de "manter a calma" e evitar que a mulher "perca o controle", agindo como o lado mais racional?</label>
              <div class="margin-bottom">
                <input type="radio" name="question4" value="sim">Sim
                <input type="radio" name="question4" value="nao" style="margin-left: 1rem;">N√£o
                <input type="radio" name="question4" value="talvez" style="margin-left: 1rem;">Talvez
              </div>

              <label for="question5"><b>5- </b>Quando uma mulher relata ter sofrido machismo ou ass√©dio, voc√™ acredita que deve apoi√°-la e levar o caso a s√©rio?</label>
              <div class="margin-bottom">
                <input type="radio" name="question5" value="sim">Sim
                <input type="radio" name="question5" value="nao" style="margin-left: 1rem;">N√£o
                <input type="radio" name="question5" value="talvez" style="margin-left: 1rem;">Talvez
              </div>

              <label for="question6"><b>6- </b>Voc√™ acredita que o machismo afeta negativamente a vida dos pr√≥prios homens?</label>
              <div class="margin-bottom">
                <input type="radio" name="question6" value="sim">Sim
                <input type="radio" name="question6" value="nao" style="margin-left: 1rem;">N√£o
                <input type="radio" name="question6" value="talvez" style="margin-left: 1rem;">Talvez
              </div>

              <label for="question7"><b>7- </b>Quando voc√™ est√° numa roda de amigos e algu√©m faz uma piada machista, voc√™ considera errado rir dessas piadas?</label>
              <div class="margin-bottom">
                <input type="radio" name="question7" value="sim">Sim
                <input type="radio" name="question7" value="nao" style="margin-left: 1rem;">N√£o
                <input type="radio" name="question7" value="talvez" style="margin-left: 1rem;">Talvez
              </div>

              <label for="question8"><b>8- </b>Voc√™ se considera uma pessoa machista?</label>
              <div class="margin-bottom">
                <input type="radio" name="question8" value="sim">Sim
                <input type="radio" name="question8" value="nao" style="margin-left: 1rem;">N√£o
                <input type="radio" name="question8" value="talvez" style="margin-left: 1rem;">Talvez
              </div>

              <label for="question9"><b>9- </b>Voc√™ faz coment√°rios ou atitudes consideradas machistas?</label>
              <div class="margin-bottom ">
                <input type="radio" name="question9" value="sim">Sim
                <input type="radio" name="question9" value="nao" style="margin-left: 1rem;">N√£o
                <input type="radio" name="question9" value="talvez" style="margin-left: 1rem;">Talvez
              </div>

              <button type="submit" class="form-button">Enviar</button>
            </form>
          </div>

          <div id="load"></div>

          <sub>Achou um erro? <a href="mailto:gabriel_e_fagundes@estudante.sesisenai.org.br">Contate-nos</a></sub>
        </main>
      </div>
    </div>

    <script>
      const form = document.getElementById('manForm');
      const loadContainer = document.getElementById('load');

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        loadContainer.innerHTML = 'üì§ Enviando dados...';

        const formData = new FormData(form);

        const response = await fetch('/api/formMan', {
          method: 'POST',
          body: formData
        });

        const result = await response.json();

        if (result.success) {
          loadContainer.innerHTML = '‚úÖ Respostas enviadas com sucesso!';
          setTimeout(() => {
            window.location.href = '/'; // redireciona pra home se quiser
          }, 2000);
        } else {
          loadContainer.innerHTML = '‚ùå Erro: ' + result.error;
        }
      });
    </script>
  </body>
</html>
