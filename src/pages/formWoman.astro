---
import Header from "../components/Header.astro";
---

<html>
  <Header title="FormulÃ¡rio Feminino" />
  <body>
    <div class="content">
      <div class="container">
        <main class="fold-content-container">
          <div class="fold-content">
            <h1>Seja bem-vinda, usuÃ¡ria!<br />Vamos comeÃ§ar?</h1>
            <p class="lead">
              <strong>O que esperar?</strong><br>
              VocÃª vai responder um formulÃ¡rio sobre um assunto importante e ajudar em uma causa!
            </p>
          </div>

          <hr class="separator">

          <form id="womanForm">
            <label><b>1-</b> VocÃª jÃ¡ presenciou ou vivenciou algum ataque de viÃ©s misÃ³gino?</label>
            <div class="margin-bottom">
              <input type="radio" name="question1" value="sim">Sim
              <input type="radio" name="question1" value="nao" style="margin-left: 3rem;">NÃ£o
            </div>

            <label><b>2-</b> VocÃª conhece alguma mulher que jÃ¡ tenha passado por algum tipo de violÃªncia?</label>
            <div class="margin-bottom">
              <input type="radio" name="question2" value="sim">Sim
              <input type="radio" name="question2" value="nao" style="margin-left: 3rem;">NÃ£o
            </div>

            <label><b>3-</b> VocÃª considera importante o debate sobre o tema?</label>
            <div class="margin-bottom">
              <input type="radio" name="question3" value="sim">Sim
              <input type="radio" name="question3" value="nao" style="margin-left: 3rem;">NÃ£o
            </div>

            <label><b>4-</b> VocÃª acredita que as leis deveriam ser endurecidas para aqueles que cometem crimes desse aspecto?</label>
            <div class="margin-bottom">
              <input type="radio" name="question4" value="sim">Sim
              <input type="radio" name="question4" value="nao" style="margin-left: 3rem;">NÃ£o
            </div>

            <label><b>5-</b> VocÃª acha que a Lei Maria da Penha Ã© necessÃ¡ria?</label>
            <div class="margin-bottom">
              <input type="radio" name="question5" value="sim">Sim
              <input type="radio" name="question5" value="nao" style="margin-left: 3rem;">NÃ£o
            </div>

            <label><b>6-</b> VocÃª concorda que a Lei Maria da Penha deveria ter uma pena maior e igual para ambos os gÃªneros?</label>
            <div class="margin-bottom">
              <input type="radio" name="question6" value="sim">Sim
              <input type="radio" name="question6" value="nao" style="margin-left: 3rem;">NÃ£o
            </div>

            <label><b>7-</b> Homens que sofrem violÃªncia domÃ©stica tambÃ©m deveriam ter proteÃ§Ã£o sob a Lei Maria da Penha?</label>
            <div class="margin-bottom">
              <input type="radio" name="question7" value="sim">Sim
              <input type="radio" name="question7" value="nao" style="margin-left: 3rem;">NÃ£o
            </div>

            <label><b>8-</b> VocÃª considera ofensivos os seguintes comentÃ¡rios?</label>
            <ul>
              <li>â€œMulher no volante, perigo constanteâ€</li>
              <li>â€œCom essa roupa aÃ­, quer chamar a atenÃ§Ã£o de quem?â€</li>
              <li>â€œEsse assunto nÃ£o Ã© para mulheresâ€</li>
              <li>â€œNarraÃ§Ã£o feminina no futebol Ã© muito ruimâ€</li>
              <li>â€œLugar de mulher Ã© na cozinhaâ€</li>
              <li>â€œO seu marido deixou vocÃª fazer isso?â€</li>
              <li>â€œNossa! Uma mulher mecÃ¢nica, mais macho que muito homem, heinâ€</li>
              <li>â€œOh lÃ¡ em casa!â€</li>
            </ul>
            <div class="margin-bottom">
              <input type="radio" name="question8" value="sim">Sim
              <input type="radio" name="question8" value="nao" style="margin-left: 3rem;">NÃ£o
            </div>

            <button type="submit" class="form-button">Enviar</button>
          </form>

          <div id="load"></div>

          <sub>Achou um erro? <a href="mailto:gabriel_e_fagundes@estudante.sesisenai.org.br">Contate-nos</a></sub>
        </main>
      </div>
    </div>

    <script>
      const form = document.getElementById('womanForm');
      const loadContainer = document.getElementById('load');

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        loadContainer.innerHTML = 'ğŸ“¤ Enviando respostas...';

        const formData = new FormData(form);
        const response = await fetch('/api/formWoman', {
          method: 'POST',
          body: formData
        });

        const result = await response.json();

        if (result.success) {
          loadContainer.innerHTML = 'âœ… Respostas enviadas com sucesso!';
          setTimeout(() => {
            window.location.href = '/';
          }, 2000);
        } else {
          loadContainer.innerHTML = 'âŒ Erro: ' + result.error;
        }
      });
    </script>
  </body>
</html>
